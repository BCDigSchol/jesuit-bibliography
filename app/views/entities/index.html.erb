<h1>Jesuit Bibliography</h1>

<% if current_user.admin_role? || current_user.editor_role? %>
<h2>Entities listings</h2>

<p><%= link_to 'Add New Entity', new_entity_path, class: 'btn btn-primary' %></p>

<%= grid(@entities_grid,
      show_filters: :when_filtered,
      allow_showing_all_records: false, 
      upper_pagination_panel: true
    ) do |g|

  g.column name: 'Name', attribute: 'name' do |entity|
    entity.name
  end

  g.column do |entity|
    "<div class='icon show-link'><span class='icon-link'>#{link_to( 'Show', entity_path(entity) )}</span></div>".html_safe + 
    "<div class='icon edit-link'><span class='icon-link'>#{link_to( 'Edit', edit_entity_path(entity) )}</span></div>".html_safe + 
    "<div class='icon destroy-link'><span class='icon-link'>#{link_to( 'Delete', entity_path(entity), method: :delete, data: { confirm: 'Are you sure?' } )}</span></div>".html_safe
  end
end -%>

<p><%= link_to 'Add New Entity', new_entity_path, class: 'btn btn-primary' %></p>

<% end %>


