<% if @entity.nil? %>
    <p>This record doesn't exist.</p>
    <%= link_to 'Go Back to Entity index', entities_path %>
<% elsif can? :read, Entity %>
    <h1>Here is Entity #<%= @entity.id %></h1>

    <div class="record-view">
        <% if can? :update, Entity %>
        <%= link_to 'Edit this record', edit_entity_path(@entity), class: 'btn btn-primary' %>
        <% end %>
        <%= link_to 'Go Back to Entity index', entities_path, class: 'btn btn-info' %>

        <hr/>
        
        <div class="field-pair row">
            <label class="col-sm-2">Entity Name</label>
            <div class="field-value col-sm-10"><%= @entity.name %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Entity Sort Name</label>
            <div class="field-value col-sm-10"><%= @entity.sort_name %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Entity Display Name</label>
            <div class="field-value col-sm-10"><%= @entity.display_name %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Entity Birth Date</label>
            <div class="field-value col-sm-10"><%= @entity.birth_date %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Entity Death Date</label>
            <div class="field-value col-sm-10"><%= @entity.death_date %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Created At</label>
            <div class="field-value col-sm-10"><%= @entity.created_at %></div>
        </div>

        <div class="field-pair row">
            <label class="col-sm-2">Updated At</label>
            <div class="field-value col-sm-10"><%= @entity.updated_at %></div>
        </div>

        <hr/>

        <% if can? :update, Entity %>
        <%= link_to 'Edit this record', edit_entity_path(@entity), class: 'btn btn-primary' %>
        <% end %>
        <%= link_to 'Go Back to Entity index', entities_path, class: 'btn btn-info' %>
    </div>
<% else %>
    <%= render 'bibliographies/not_permitted' %>
<% end %>